!function(o,t){function e(o){return""===s?o:(o=o.charAt(0).toUpperCase()+o.substr(1),s+o)}var r=Math,l=t.createElement("div").style,s=function(){for(var o="t,webkitT,MozT,msT,OT".split(","),t=0,e=o.length;t<e;t++)if(o[t]+"ransform"in l)return o[t].substr(0,o[t].length-1);return!1}(),n=s?"-"+s.toLowerCase()+"-":"",i=e("transform"),a=e("transitionProperty"),c=e("transitionDuration"),p=e("transformOrigin"),m=e("transitionTimingFunction"),h=e("transitionDelay"),u=/android/gi.test(navigator.appVersion),S=/iphone|ipad/gi.test(navigator.appVersion),d=/hp-tablet/gi.test(navigator.appVersion),b=e("perspective")in l,f="ontouchstart"in o&&!d,x=!1!==s,g=e("transition")in l,y="onorientationchange"in o?"orientationchange":"resize",v=f?"touchstart":"mousedown",Y=f?"touchmove":"mousemove",T=f?"touchend":"mouseup",X=f?"touchcancel":"mouseup",w=!1!==s&&{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[s],_=o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(o){return setTimeout(o,1)},z=o.cancelRequestAnimationFrame||o.webkitCancelAnimationFrame||o.webkitCancelRequestAnimationFrame||o.mozCancelRequestAnimationFrame||o.oCancelRequestAnimationFrame||o.msCancelRequestAnimationFrame||clearTimeout,M=b?" translateZ(0)":"",E=function(e,r){var l,s=this;s.wrapper="object"==typeof e?e:t.getElementById(e),s.wrapper.style.overflow="hidden",s.scroller=s.wrapper.children[0],s.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:u,hideScrollbar:S,fadeScrollbar:S&&b,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(o){o.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(l in r)s.options[l]=r[l];s.x=s.options.x,s.y=s.options.y,s.options.useTransform=x&&s.options.useTransform,s.options.hScrollbar=s.options.hScroll&&s.options.hScrollbar,s.options.vScrollbar=s.options.vScroll&&s.options.vScrollbar,s.options.zoom=s.options.useTransform&&s.options.zoom,s.options.useTransition=g&&s.options.useTransition,s.options.zoom&&u&&(M=""),s.scroller.style[a]=s.options.useTransform?n+"transform":"top left",s.scroller.style[c]="0",s.scroller.style[p]="0 0",s.options.useTransition&&(s.scroller.style[m]="cubic-bezier(0.33,0.66,0.66,1)"),s.options.useTransform?s.scroller.style[i]="translate("+s.x+"px,"+s.y+"px)"+M:s.scroller.style.cssText+=";position:absolute;top:"+s.y+"px;left:"+s.x+"px",s.options.useTransition&&(s.options.fixedScrollbar=!0),s.refresh(),s._bind(y,o),s._bind(v),f||"none"!=s.options.wheelAction&&(s._bind("DOMMouseScroll"),s._bind("mousewheel")),s.options.checkDOMChanges&&(s.checkDOMTime=setInterval(function(){s._checkDOMChanges()},500))};E.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(o){var t=this;switch(o.type){case v:if(!f&&0!==o.button)return;t._start(o);break;case Y:t._move(o);break;case T:case X:t._end(o);break;case y:t._resize();break;case"DOMMouseScroll":case"mousewheel":t._wheel(o);break;case w:t._transitionEnd(o)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(o){var e,l=this;l[o+"Scrollbar"]?(l[o+"ScrollbarWrapper"]||(e=t.createElement("div"),l.options.scrollbarClass?e.className=l.options.scrollbarClass+o.toUpperCase():e.style.cssText="position:absolute;z-index:100;"+("h"==o?"height:7px;bottom:1px;left:2px;right:"+(l.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(l.hScrollbar?"7":"2")+"px;top:2px;right:1px"),e.style.cssText+=";pointer-events:none;"+n+"transition-property:opacity;"+n+"transition-duration:"+(l.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(l.options.hideScrollbar?"0":"1"),l.wrapper.appendChild(e),l[o+"ScrollbarWrapper"]=e,e=t.createElement("div"),l.options.scrollbarClass||(e.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+n+"background-clip:padding-box;"+n+"box-sizing:border-box;"+("h"==o?"height:100%":"width:100%")+";"+n+"border-radius:3px;border-radius:3px"),e.style.cssText+=";pointer-events:none;"+n+"transition-property:"+n+"transform;"+n+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+n+"transition-duration:0;"+n+"transform: translate(0,0)"+M,l.options.useTransition&&(e.style.cssText+=";"+n+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),l[o+"ScrollbarWrapper"].appendChild(e),l[o+"ScrollbarIndicator"]=e),"h"==o?(l.hScrollbarSize=l.hScrollbarWrapper.clientWidth,l.hScrollbarIndicatorSize=r.max(r.round(l.hScrollbarSize*l.hScrollbarSize/l.scrollerW),8),l.hScrollbarIndicator.style.width=l.hScrollbarIndicatorSize+"px",l.hScrollbarMaxScroll=l.hScrollbarSize-l.hScrollbarIndicatorSize,l.hScrollbarProp=l.hScrollbarMaxScroll/l.maxScrollX):(l.vScrollbarSize=l.vScrollbarWrapper.clientHeight,l.vScrollbarIndicatorSize=r.max(r.round(l.vScrollbarSize*l.vScrollbarSize/l.scrollerH),8),l.vScrollbarIndicator.style.height=l.vScrollbarIndicatorSize+"px",l.vScrollbarMaxScroll=l.vScrollbarSize-l.vScrollbarIndicatorSize,l.vScrollbarProp=l.vScrollbarMaxScroll/l.maxScrollY),l._scrollbarPos(o,!0)):l[o+"ScrollbarWrapper"]&&(x&&(l[o+"ScrollbarIndicator"].style[i]=""),l[o+"ScrollbarWrapper"].parentNode.removeChild(l[o+"ScrollbarWrapper"]),l[o+"ScrollbarWrapper"]=null,l[o+"ScrollbarIndicator"]=null)},_resize:function(){var o=this;setTimeout(function(){o.refresh()},u?200:0)},_pos:function(o,t){this.zoomed||(o=this.hScroll?o:0,t=this.vScroll?t:0,this.options.useTransform?this.scroller.style[i]="translate("+o+"px,"+t+"px) scale("+this.scale+")"+M:(o=r.round(o),t=r.round(t),this.scroller.style.left=o+"px",this.scroller.style.top=t+"px"),this.x=o,this.y=t,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(o,t){var e,l=this,s="h"==o?l.x:l.y;l[o+"Scrollbar"]&&((s=l[o+"ScrollbarProp"]*s)<0?(l.options.fixedScrollbar||((e=l[o+"ScrollbarIndicatorSize"]+r.round(3*s))<8&&(e=8),l[o+"ScrollbarIndicator"].style["h"==o?"width":"height"]=e+"px"),s=0):s>l[o+"ScrollbarMaxScroll"]&&(l.options.fixedScrollbar?s=l[o+"ScrollbarMaxScroll"]:((e=l[o+"ScrollbarIndicatorSize"]-r.round(3*(s-l[o+"ScrollbarMaxScroll"])))<8&&(e=8),l[o+"ScrollbarIndicator"].style["h"==o?"width":"height"]=e+"px",s=l[o+"ScrollbarMaxScroll"]+(l[o+"ScrollbarIndicatorSize"]-e))),l[o+"ScrollbarWrapper"].style[h]="0",l[o+"ScrollbarWrapper"].style.opacity=t&&l.options.hideScrollbar?"0":"1",l[o+"ScrollbarIndicator"].style[i]="translate("+("h"==o?s+"px,0)":"0,"+s+"px)")+M)},_start:function(t){var e,l,s,n,a,c=this,p=f?t.touches[0]:t;c.enabled&&(c.options.onBeforeScrollStart&&c.options.onBeforeScrollStart.call(c,t),(c.options.useTransition||c.options.zoom)&&c._transitionTime(0),c.moved=!1,c.animating=!1,c.zoomed=!1,c.distX=0,c.distY=0,c.absDistX=0,c.absDistY=0,c.dirX=0,c.dirY=0,c.options.zoom&&f&&t.touches.length>1&&(n=r.abs(t.touches[0].pageX-t.touches[1].pageX),a=r.abs(t.touches[0].pageY-t.touches[1].pageY),c.touchesDistStart=r.sqrt(n*n+a*a),c.originX=r.abs(t.touches[0].pageX+t.touches[1].pageX-2*c.wrapperOffsetLeft)/2-c.x,c.originY=r.abs(t.touches[0].pageY+t.touches[1].pageY-2*c.wrapperOffsetTop)/2-c.y,c.options.onZoomStart&&c.options.onZoomStart.call(c,t)),c.options.momentum&&(c.options.useTransform?(l=+((e=getComputedStyle(c.scroller,null)[i].replace(/[^0-9\-.,]/g,"").split(","))[12]||e[4]),s=+(e[13]||e[5])):(l=+getComputedStyle(c.scroller,null).left.replace(/[^0-9-]/g,""),s=+getComputedStyle(c.scroller,null).top.replace(/[^0-9-]/g,"")),l==c.x&&s==c.y||(c.options.useTransition?c._unbind(w):z(c.aniTime),c.steps=[],c._pos(l,s),c.options.onScrollEnd&&c.options.onScrollEnd.call(c))),c.absStartX=c.x,c.absStartY=c.y,c.startX=c.x,c.startY=c.y,c.pointX=p.pageX,c.pointY=p.pageY,c.startTime=t.timeStamp||Date.now(),c.options.onScrollStart&&c.options.onScrollStart.call(c,t),c._bind(Y,o),c._bind(T,o),c._bind(X,o))},_move:function(o){var t,e,l,s=this,n=f?o.touches[0]:o,a=n.pageX-s.pointX,c=n.pageY-s.pointY,p=s.x+a,m=s.y+c,h=o.timeStamp||Date.now();if(s.options.onBeforeScrollMove&&s.options.onBeforeScrollMove.call(s,o),s.options.zoom&&f&&o.touches.length>1)return t=r.abs(o.touches[0].pageX-o.touches[1].pageX),e=r.abs(o.touches[0].pageY-o.touches[1].pageY),s.touchesDist=r.sqrt(t*t+e*e),s.zoomed=!0,(l=1/s.touchesDistStart*s.touchesDist*this.scale)<s.options.zoomMin?l=.5*s.options.zoomMin*Math.pow(2,l/s.options.zoomMin):l>s.options.zoomMax&&(l=2*s.options.zoomMax*Math.pow(.5,s.options.zoomMax/l)),s.lastScale=l/this.scale,p=this.originX-this.originX*s.lastScale+this.x,m=this.originY-this.originY*s.lastScale+this.y,this.scroller.style[i]="translate("+p+"px,"+m+"px) scale("+l+")"+M,void(s.options.onZoom&&s.options.onZoom.call(s,o));s.pointX=n.pageX,s.pointY=n.pageY,(p>0||p<s.maxScrollX)&&(p=s.options.bounce?s.x+a/2:p>=0||s.maxScrollX>=0?0:s.maxScrollX),(m>s.minScrollY||m<s.maxScrollY)&&(m=s.options.bounce?s.y+c/2:m>=s.minScrollY||s.maxScrollY>=0?s.minScrollY:s.maxScrollY),s.distX+=a,s.distY+=c,s.absDistX=r.abs(s.distX),s.absDistY=r.abs(s.distY),s.absDistX<6&&s.absDistY<6||(s.options.lockDirection&&(s.absDistX>s.absDistY+5?(m=s.y,c=0):s.absDistY>s.absDistX+5&&(p=s.x,a=0)),s.moved=!0,s._pos(p,m),s.dirX=a>0?-1:a<0?1:0,s.dirY=c>0?-1:c<0?1:0,h-s.startTime>300&&(s.startTime=h,s.startX=s.x,s.startY=s.y),s.options.onScrollMove&&s.options.onScrollMove.call(s,o))},_end:function(e){if(!f||0===e.touches.length){var l,s,n,a,p,m,h,u=this,S=f?e.changedTouches[0]:e,d={dist:0,time:0},b={dist:0,time:0},x=(e.timeStamp||Date.now())-u.startTime,g=u.x,y=u.y;if(u._unbind(Y,o),u._unbind(T,o),u._unbind(X,o),u.options.onBeforeScrollEnd&&u.options.onBeforeScrollEnd.call(u,e),u.zoomed)return h=u.scale*u.lastScale,h=Math.max(u.options.zoomMin,h),h=Math.min(u.options.zoomMax,h),u.lastScale=h/u.scale,u.scale=h,u.x=u.originX-u.originX*u.lastScale+u.x,u.y=u.originY-u.originY*u.lastScale+u.y,u.scroller.style[c]="200ms",u.scroller.style[i]="translate("+u.x+"px,"+u.y+"px) scale("+u.scale+")"+M,u.zoomed=!1,u.refresh(),void(u.options.onZoomEnd&&u.options.onZoomEnd.call(u,e));if(!u.moved)return f&&(u.doubleTapTimer&&u.options.zoom?(clearTimeout(u.doubleTapTimer),u.doubleTapTimer=null,u.options.onZoomStart&&u.options.onZoomStart.call(u,e),u.zoom(u.pointX,u.pointY,1==u.scale?u.options.doubleTapZoom:1),u.options.onZoomEnd&&setTimeout(function(){u.options.onZoomEnd.call(u,e)},200)):this.options.handleClick&&(u.doubleTapTimer=setTimeout(function(){for(u.doubleTapTimer=null,l=S.target;1!=l.nodeType;)l=l.parentNode;"SELECT"!=l.tagName&&"INPUT"!=l.tagName&&"TEXTAREA"!=l.tagName&&((s=t.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,e.view,1,S.screenX,S.screenY,S.clientX,S.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),s._fake=!0,l.dispatchEvent(s))},u.options.zoom?250:0))),u._resetPos(400),void(u.options.onTouchEnd&&u.options.onTouchEnd.call(u,e));if(x<300&&u.options.momentum&&(d=g?u._momentum(g-u.startX,x,-u.x,u.scrollerW-u.wrapperW+u.x,u.options.bounce?u.wrapperW:0):d,b=y?u._momentum(y-u.startY,x,-u.y,u.maxScrollY<0?u.scrollerH-u.wrapperH+u.y-u.minScrollY:0,u.options.bounce?u.wrapperH:0):b,g=u.x+d.dist,y=u.y+b.dist,(u.x>0&&g>0||u.x<u.maxScrollX&&g<u.maxScrollX)&&(d={dist:0,time:0}),(u.y>u.minScrollY&&y>u.minScrollY||u.y<u.maxScrollY&&y<u.maxScrollY)&&(b={dist:0,time:0})),d.dist||b.dist)return p=r.max(r.max(d.time,b.time),10),u.options.snap&&(n=g-u.absStartX,a=y-u.absStartY,r.abs(n)<u.options.snapThreshold&&r.abs(a)<u.options.snapThreshold?u.scrollTo(u.absStartX,u.absStartY,200):(g=(m=u._snap(g,y)).x,y=m.y,p=r.max(m.time,p))),u.scrollTo(r.round(g),r.round(y),p),void(u.options.onTouchEnd&&u.options.onTouchEnd.call(u,e));if(u.options.snap)return n=g-u.absStartX,a=y-u.absStartY,r.abs(n)<u.options.snapThreshold&&r.abs(a)<u.options.snapThreshold?u.scrollTo(u.absStartX,u.absStartY,200):(m=u._snap(u.x,u.y)).x==u.x&&m.y==u.y||u.scrollTo(m.x,m.y,m.time),void(u.options.onTouchEnd&&u.options.onTouchEnd.call(u,e));u._resetPos(200),u.options.onTouchEnd&&u.options.onTouchEnd.call(u,e)}},_resetPos:function(o){var t=this,e=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,r=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;if(e==t.x&&r==t.y)return t.moved&&(t.moved=!1,t.options.onScrollEnd&&t.options.onScrollEnd.call(t)),t.hScrollbar&&t.options.hideScrollbar&&("webkit"==s&&(t.hScrollbarWrapper.style[h]="300ms"),t.hScrollbarWrapper.style.opacity="0"),void(t.vScrollbar&&t.options.hideScrollbar&&("webkit"==s&&(t.vScrollbarWrapper.style[h]="300ms"),t.vScrollbarWrapper.style.opacity="0"));t.scrollTo(e,r,o||0)},_wheel:function(o){var t,e,r,l,s,n=this;if("wheelDeltaX"in o)t=o.wheelDeltaX/12,e=o.wheelDeltaY/12;else if("wheelDelta"in o)t=e=o.wheelDelta/12;else{if(!("detail"in o))return;t=e=3*-o.detail}if("zoom"==n.options.wheelAction)return(s=n.scale*Math.pow(2,1/3*(e?e/Math.abs(e):0)))<n.options.zoomMin&&(s=n.options.zoomMin),s>n.options.zoomMax&&(s=n.options.zoomMax),void(s!=n.scale&&(!n.wheelZoomCount&&n.options.onZoomStart&&n.options.onZoomStart.call(n,o),n.wheelZoomCount++,n.zoom(o.pageX,o.pageY,s,400),setTimeout(function(){n.wheelZoomCount--,!n.wheelZoomCount&&n.options.onZoomEnd&&n.options.onZoomEnd.call(n,o)},400)));r=n.x+t,l=n.y+e,r>0?r=0:r<n.maxScrollX&&(r=n.maxScrollX),l>n.minScrollY?l=n.minScrollY:l<n.maxScrollY&&(l=n.maxScrollY),n.maxScrollY<0&&n.scrollTo(r,l,0)},_transitionEnd:function(o){var t=this;o.target==t.scroller&&(t._unbind(w),t._startAni())},_startAni:function(){var o,t,e,l=this,s=l.x,n=l.y,i=Date.now();if(!l.animating)if(l.steps.length){if((o=l.steps.shift()).x==s&&o.y==n&&(o.time=0),l.animating=!0,l.moved=!0,l.options.useTransition)return l._transitionTime(o.time),l._pos(o.x,o.y),l.animating=!1,void(o.time?l._bind(w):l._resetPos(0));(e=function(){var a,c,p=Date.now();if(p>=i+o.time)return l._pos(o.x,o.y),l.animating=!1,l.options.onAnimationEnd&&l.options.onAnimationEnd.call(l),void l._startAni();p=(p-i)/o.time-1,t=r.sqrt(1-p*p),a=(o.x-s)*t+s,c=(o.y-n)*t+n,l._pos(a,c),l.animating&&(l.aniTime=_(e))})()}else l._resetPos(400)},_transitionTime:function(o){o+="ms",this.scroller.style[c]=o,this.hScrollbar&&(this.hScrollbarIndicator.style[c]=o),this.vScrollbar&&(this.vScrollbarIndicator.style[c]=o)},_momentum:function(o,t,e,l,s){var n=r.abs(o)/t,i=n*n/.0012,a=0;return o>0&&i>e?(n=n*(e+=s/(6/(i/n*6e-4)))/i,i=e):o<0&&i>l&&(n=n*(l+=s/(6/(i/n*6e-4)))/i,i=l),i*=o<0?-1:1,a=n/6e-4,{dist:i,time:r.round(a)}},_offset:function(o){for(var t=-o.offsetLeft,e=-o.offsetTop;o=o.offsetParent;)t-=o.offsetLeft,e-=o.offsetTop;return o!=this.wrapper&&(t*=this.scale,e*=this.scale),{left:t,top:e}},_snap:function(o,t){var e,l,s,n,i,a,c=this;for(s=c.pagesX.length-1,e=0,l=c.pagesX.length;e<l;e++)if(o>=c.pagesX[e]){s=e;break}for(s==c.currPageX&&s>0&&c.dirX<0&&s--,o=c.pagesX[s],i=(i=r.abs(o-c.pagesX[c.currPageX]))?r.abs(c.x-o)/i*500:0,c.currPageX=s,s=c.pagesY.length-1,e=0;e<s;e++)if(t>=c.pagesY[e]){s=e;break}return s==c.currPageY&&s>0&&c.dirY<0&&s--,t=c.pagesY[s],a=r.abs(t-c.pagesY[c.currPageY]),a=a?r.abs(c.y-t)/a*500:0,c.currPageY=s,n=r.round(r.max(i,a))||200,{x:o,y:t,time:n}},_bind:function(o,t,e){(t||this.scroller).addEventListener(o,this,!!e)},_unbind:function(o,t,e){(t||this.scroller).removeEventListener(o,this,!!e)},destroy:function(){var t=this;t.scroller.style[i]="",t.hScrollbar=!1,t.vScrollbar=!1,t._scrollbar("h"),t._scrollbar("v"),t._unbind(y,o),t._unbind(v),t._unbind(Y,o),t._unbind(T,o),t._unbind(X,o),t.options.hasTouch||(t._unbind("DOMMouseScroll"),t._unbind("mousewheel")),t.options.useTransition&&t._unbind(w),t.options.checkDOMChanges&&clearInterval(t.checkDOMTime),t.options.onDestroy&&t.options.onDestroy.call(t)},refresh:function(){var o,t,e,l,s=this,n=0,i=0;if(s.scale<s.options.zoomMin&&(s.scale=s.options.zoomMin),s.wrapperW=s.wrapper.clientWidth||1,s.wrapperH=s.wrapper.clientHeight||1,s.minScrollY=-s.options.topOffset||0,s.scrollerW=r.round(s.scroller.offsetWidth*s.scale),s.scrollerH=r.round((s.scroller.offsetHeight+s.minScrollY)*s.scale),s.maxScrollX=s.wrapperW-s.scrollerW,s.maxScrollY=s.wrapperH-s.scrollerH+s.minScrollY,s.dirX=0,s.dirY=0,s.options.onRefresh&&s.options.onRefresh.call(s),s.hScroll=s.options.hScroll&&s.maxScrollX<0,s.vScroll=s.options.vScroll&&(!s.options.bounceLock&&!s.hScroll||s.scrollerH>s.wrapperH),s.hScrollbar=s.hScroll&&s.options.hScrollbar,s.vScrollbar=s.vScroll&&s.options.vScrollbar&&s.scrollerH>s.wrapperH,o=s._offset(s.wrapper),s.wrapperOffsetLeft=-o.left,s.wrapperOffsetTop=-o.top,"string"==typeof s.options.snap)for(s.pagesX=[],s.pagesY=[],t=0,e=(l=s.scroller.querySelectorAll(s.options.snap)).length;t<e;t++)(n=s._offset(l[t])).left+=s.wrapperOffsetLeft,n.top+=s.wrapperOffsetTop,s.pagesX[t]=n.left<s.maxScrollX?s.maxScrollX:n.left*s.scale,s.pagesY[t]=n.top<s.maxScrollY?s.maxScrollY:n.top*s.scale;else if(s.options.snap){for(s.pagesX=[];n>=s.maxScrollX;)s.pagesX[i]=n,n-=s.wrapperW,i++;for(s.maxScrollX%s.wrapperW&&(s.pagesX[s.pagesX.length]=s.maxScrollX-s.pagesX[s.pagesX.length-1]+s.pagesX[s.pagesX.length-1]),n=0,i=0,s.pagesY=[];n>=s.maxScrollY;)s.pagesY[i]=n,n-=s.wrapperH,i++;s.maxScrollY%s.wrapperH&&(s.pagesY[s.pagesY.length]=s.maxScrollY-s.pagesY[s.pagesY.length-1]+s.pagesY[s.pagesY.length-1])}s._scrollbar("h"),s._scrollbar("v"),s.zoomed||(s.scroller.style[c]="0",s._resetPos(400))},scrollTo:function(o,t,e,r){var l,s,n=this,i=o;for(n.stop(),i.length||(i=[{x:o,y:t,time:e,relative:r}]),l=0,s=i.length;l<s;l++)i[l].relative&&(i[l].x=n.x-i[l].x,i[l].y=n.y-i[l].y),n.steps.push({x:i[l].x,y:i[l].y,time:i[l].time||0});n._startAni()},scrollToElement:function(o,t){var e,l=this;(o=o.nodeType?o:l.scroller.querySelector(o))&&((e=l._offset(o)).left+=l.wrapperOffsetLeft,e.top+=l.wrapperOffsetTop,e.left=e.left>0?0:e.left<l.maxScrollX?l.maxScrollX:e.left,e.top=e.top>l.minScrollY?l.minScrollY:e.top<l.maxScrollY?l.maxScrollY:e.top,t=void 0===t?r.max(2*r.abs(e.left),2*r.abs(e.top)):t,l.scrollTo(e.left,e.top,t))},scrollToPage:function(o,t,e){var r,l,s=this;e=void 0===e?400:e,s.options.onScrollStart&&s.options.onScrollStart.call(s),s.options.snap?(o="next"==o?s.currPageX+1:"prev"==o?s.currPageX-1:o,t="next"==t?s.currPageY+1:"prev"==t?s.currPageY-1:t,o=o<0?0:o>s.pagesX.length-1?s.pagesX.length-1:o,t=t<0?0:t>s.pagesY.length-1?s.pagesY.length-1:t,s.currPageX=o,s.currPageY=t,r=s.pagesX[o],l=s.pagesY[t]):(r=-s.wrapperW*o,l=-s.wrapperH*t,r<s.maxScrollX&&(r=s.maxScrollX),l<s.maxScrollY&&(l=s.maxScrollY)),s.scrollTo(r,l,e)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(Y,o),this._unbind(T,o),this._unbind(X,o)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(w):z(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(o,t,e,r){var l=this,s=e/l.scale;l.options.useTransform&&(l.zoomed=!0,r=void 0===r?200:r,o=o-l.wrapperOffsetLeft-l.x,t=t-l.wrapperOffsetTop-l.y,l.x=o-o*s+l.x,l.y=t-t*s+l.y,l.scale=e,l.refresh(),l.x=l.x>0?0:l.x<l.maxScrollX?l.maxScrollX:l.x,l.y=l.y>l.minScrollY?l.minScrollY:l.y<l.maxScrollY?l.maxScrollY:l.y,l.scroller.style[c]=r+"ms",l.scroller.style[i]="translate("+l.x+"px,"+l.y+"px) scale("+e+")"+M,l.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},l=null,"undefined"!=typeof exports?exports.iScroll=E:o.iScroll=E}(window,document);